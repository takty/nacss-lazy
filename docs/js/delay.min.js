"use strict";window.NACSS=window.NACSS||{},function(t){{const s="data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs=";function r(t,e={}){if(0!==t.length){if(e=Object.assign({offset:100,blankImage:s},e),o(HTMLImageElement.prototype)){for(const n of t)a(n,e.blankImage);i((e=>{for(let n=0;n<t.length;n+=1){const o=t[n];o.dataset.src&&e[n]&&c(o)}}),t,0,`* 0px ${e.offset}px 0px`)}window.addEventListener("beforeprint",(()=>{for(const e of t)e.dataset.src&&c(e),"lazy"===e.getAttribute("loading")&&e.setAttribute("loading","eager")}),!1)}}function a(t,n){e(t,"src",n),e(t,"srcset"),t.style.opacity=0;const o=t.getAttribute("height");o&&(t.style.minHeight=o+"px")}function c(t){t.addEventListener("load",(()=>{t.style.minHeight="",t.style.opacity=""})),n(t,"src"),n(t,"srcset")}t.delayImage=r,t.delayImageIsNeeded=o}{function n(t,e={}){if(0!==t.length){if(e=Object.assign({offset:100},e),o(HTMLIFrameElement.prototype)){for(const e of t)s(e);i((e=>{for(let n=0;n<t.length;n+=1){const o=t[n];o.dataset.src&&e[n]&&r(o)}}),t,0,`* 0px ${e.offset}px 0px`)}window.addEventListener("beforeprint",(()=>{for(const e of t)e.dataset.src&&r(e),"lazy"===e.getAttribute("loading")&&e.setAttribute("loading","eager")}),!1)}}function s(t){e(t,"src")}function r(t){const e=t.dataset.src;e&&(t.contentDocument.location.replace(e),delete t.dataset.src)}t.delayIframe=n,t.delayIframeIsNeeded=o}function e(t,e,n=null){const o=t.getAttribute(e);o&&(t.dataset[e]=o,n?t.setAttribute(e,n):t.removeAttribute(e))}function n(t,e){const n=t.dataset[e];n&&(t.setAttribute(e,n),delete t.dataset[e])}function o(t){return!("loading"in t)}const s=[];function r(t,e=!1){e&&t(),s.push(function(t){let e;return(...n)=>{e||(e=!0,requestAnimationFrame((()=>{e=!1,t(...n)})))}}(t))}function i(t,e,n=0,o="* 0px 0px 0px"){const s=Array(e.length).fill(!1),i=new Map;e.forEach(((t,e)=>i.set(t,e)));let a=0,c=null,d=null;r((()=>{a=-function(){const t=getComputedStyle(document.documentElement),e=parseInt(t.scrollPaddingTop);return Number.isNaN(e)?0:e}(),d&&clearTimeout(d),d=setTimeout((()=>{c&&c.disconnect(),c=function(){const r=new IntersectionObserver((e=>{for(const t of e)s[i.get(t.target)]=t.isIntersecting;t(s)}),{rootMargin:o.replace("*",`${a}px`),threshold:n});for(const t of e)r.observe(t);return r}()}),100)}),!0)}document.addEventListener("DOMContentLoaded",(()=>{window.addEventListener("resize",(()=>{for(const t of s)t()}),{passive:!0})}))}(window.NACSS);
//# sourceMappingURL=delay.min.js.map