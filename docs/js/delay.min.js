window.NACSS=window.NACSS||{},function(t){!function(){function e(t,e){s(t,"src",e),s(t,"srcset"),t.style.opacity=0;const n=t.getAttribute("height");n&&(t.style.minHeight=n+"px")}function n(t){t.addEventListener("load",(()=>{t.style.minHeight="",t.style.opacity=""})),i(t,"src"),i(t,"srcset")}t.delayImage=function(t,s={}){if(0!==t.length){if(s=Object.assign({offset:100,blankImage:"data:image/gif;base64,R0lGODdhAQABAPAAAP///wAAACwAAAAAAQABAEACAkQBADs="},s),r(HTMLImageElement.prototype)){for(const n of t)e(n,s.blankImage);o((e=>{for(let o=0;o<t.length;o+=1){const s=t[o];s.dataset.src&&e[o]&&n(s)}}),t,0,`* 0px ${s.offset}px 0px`)}window.addEventListener("beforeprint",(()=>{for(const e of t)e.dataset.src&&n(e),"lazy"===e.getAttribute("loading")&&e.setAttribute("loading","eager")}),!1)}},t.delayImageIsNeeded=r}(),function(){function e(t){s(t,"src")}function n(t){const e=t.dataset.src;e&&(t.contentDocument.location.replace(e),delete t.dataset.src)}t.delayIframe=function(t,s={}){if(0!==t.length){if(s=Object.assign({offset:100},s),r(HTMLIFrameElement.prototype)){for(const n of t)e(n);o((e=>{for(let o=0;o<t.length;o+=1){const s=t[o];s.dataset.src&&e[o]&&n(s)}}),t,0,`* 0px ${s.offset}px 0px`)}window.addEventListener("beforeprint",(()=>{for(const e of t)e.dataset.src&&n(e),"lazy"===e.getAttribute("loading")&&e.setAttribute("loading","eager")}),!1)}},t.delayIframeIsNeeded=r}();const e=[];function n(t,n=!1){n&&t(),e.push(function(t){let e;return(...n)=>{e||(e=!0,requestAnimationFrame((()=>{e=!1,t(...n)})))}}(t))}function o(t,e,o=0,s="* 0px 0px 0px"){const i=Array(e.length).fill(!1),r=new Map;e.forEach(((t,e)=>r.set(t,e)));let a=0,c=null,d=null;n((()=>{a=-function(){const t=getComputedStyle(document.documentElement);return parseInt(t.scrollPaddingTop)}(),d&&clearTimeout(d),d=setTimeout((()=>{c&&c.disconnect(),c=function(){const n=new IntersectionObserver((e=>{for(const t of e)i[r.get(t.target)]=t.isIntersecting;t(i)}),{rootMargin:s.replace("*",`${a}px`),threshold:o});for(const t of e)n.observe(t);return n}()}),100)}),!0)}function s(t,e,n=null){const o=t.getAttribute(e);o&&(t.dataset[e]=o,n?t.setAttribute(e,n):t.removeAttribute(e))}function i(t,e){const n=t.dataset[e];n&&(t.setAttribute(e,n),delete t.dataset[e])}function r(t){return!("loading"in t)}document.addEventListener("DOMContentLoaded",(()=>{window.addEventListener("resize",(()=>{for(const t of e)t()}),{passive:!0})}))}(window.NACSS);
//# sourceMappingURL=delay.min.js.map